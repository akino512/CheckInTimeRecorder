<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
今日打卡时间：<p id="checkInDate"></p>
<p id="checkInTime"></p>

</body>

<script type="text/javascript">
    let storage = window.localStorage;

    updateCheckInDateTime();
    showCheckInDateTime();


    //获取今日
    function getNewDate() {
        let dt = new Date();
        return dt.getFullYear()+'-'+(dt.getMonth()+1)+'-'+dt.getDate()
    }

    //获取现在时间
    function getNewTime() {
        let dt = new Date();
        return dt.getHours()+':'+dt.getMinutes()+':'+dt.getSeconds()
    }

    function setCheckInDateTime(date,time){
        storage.checkInDate=date;
        storage.checkInTime=time;
    }
    function showCheckInDateTime(){
        let checkInDate = document.getElementById("checkInDate"); //对象
        let checkInTime = document.getElementById("checkInTime"); //对象
        checkInDate.innerText=storage.checkInDate;
        checkInTime.innerText=storage.checkInTime;
    }

    function updateCheckInDateTime() {
        let oldCheckInDate = storage.checkInDate;
        // let oldCheckInTime = storage.checkInTime;
        let newCheckInDate = getNewDate();
        let newCheckInTime = getNewTime();

        console.log(oldCheckInDate);
        console.log(newCheckInDate);
        if (newCheckInDate !== oldCheckInDate) {
            alert("new");
            setCheckInDateTime(newCheckInDate,newCheckInTime)
        }
    }

</script>
</html>